<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MELLO 2026 - Heat 2 Results</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Metal+Mania&family=Oswald:wght@400;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { overflow-x: hidden; }

  body {
    background: #06060e;
    color: #d0d0e0;
    font-family: 'Oswald', sans-serif;
    overflow-x: hidden;
    overflow-y: auto;
    min-height: 100vh;
    width: 100vw;
    cursor: pointer;
    user-select: none;
  }

  /* ── BACKGROUND LAYERS ── */
  .bg-void {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background:
      radial-gradient(ellipse at 50% 0%, rgba(80, 0, 180, 0.15) 0%, transparent 60%),
      radial-gradient(ellipse at 20% 100%, rgba(0, 100, 255, 0.08) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 100%, rgba(0, 100, 255, 0.08) 0%, transparent 50%),
      linear-gradient(to bottom, #06060e 0%, #0a0018 100%);
    z-index: 0;
  }

  .bg-grid {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background:
      repeating-linear-gradient(0deg, transparent, transparent 79px, rgba(100, 60, 255, 0.04) 79px, rgba(100, 60, 255, 0.04) 80px),
      repeating-linear-gradient(90deg, transparent, transparent 79px, rgba(100, 60, 255, 0.04) 79px, rgba(100, 60, 255, 0.04) 80px);
    z-index: 1;
    animation: grid-pulse 5s ease-in-out infinite alternate;
  }

  @keyframes grid-pulse {
    from { opacity: 0.3; }
    to { opacity: 0.8; }
  }

  .scanlines {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.08) 2px,
      rgba(0, 0, 0, 0.08) 4px
    );
    z-index: 2;
    pointer-events: none;
  }

  /* ── FIRE / FLAMES ── */
  .fire-base {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    height: 35%;
    background:
      radial-gradient(ellipse at 30% 100%, rgba(120, 40, 255, 0.25) 0%, transparent 55%),
      radial-gradient(ellipse at 70% 100%, rgba(80, 0, 200, 0.25) 0%, transparent 55%),
      radial-gradient(ellipse at 50% 100%, rgba(180, 60, 255, 0.15) 0%, transparent 60%);
    z-index: 1;
    pointer-events: none;
    animation: fire-base-flicker 3s ease-in-out infinite alternate;
  }

  @keyframes fire-base-flicker {
    0% { opacity: 0.6; transform: scaleY(1); }
    30% { opacity: 0.8; transform: scaleY(1.05); }
    60% { opacity: 0.5; transform: scaleY(0.95); }
    100% { opacity: 0.75; transform: scaleY(1.02); }
  }

  .flame {
    position: fixed;
    bottom: -10px;
    width: 6px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    opacity: 0;
    z-index: 2;
    filter: blur(1.5px);
    animation: flame-rise linear infinite;
    transform-origin: bottom center;
  }

  @keyframes flame-rise {
    0% {
      opacity: 0;
      transform: translateY(0) scaleX(1) scaleY(1) rotate(0deg);
    }
    5% { opacity: 0.9; }
    30% {
      opacity: 0.8;
      transform: translateY(-15vh) scaleX(0.9) scaleY(1.3) rotate(-3deg);
    }
    60% {
      opacity: 0.5;
      transform: translateY(-30vh) scaleX(0.7) scaleY(1.1) rotate(3deg);
    }
    80% {
      opacity: 0.2;
      transform: translateY(-42vh) scaleX(0.4) scaleY(0.8) rotate(-2deg);
    }
    100% {
      opacity: 0;
      transform: translateY(-55vh) scaleX(0.1) scaleY(0.5) rotate(4deg);
    }
  }

  /* ── ELECTRIC SPARKS (replacing embers) ── */
  .spark {
    position: fixed;
    width: 2px;
    height: 2px;
    background: #00ccff;
    border-radius: 50%;
    opacity: 0;
    z-index: 3;
    box-shadow: 0 0 6px 2px rgba(0, 180, 255, 0.6);
    animation: spark-fly linear infinite;
  }

  @keyframes spark-fly {
    0% { opacity: 0; transform: translateX(0) translateY(0) scale(1); }
    10% { opacity: 1; }
    90% { opacity: 0.4; }
    100% { opacity: 0; transform: translateX(calc(var(--dx) * 1px)) translateY(calc(var(--dy) * 1px)) scale(0); }
  }

  /* ── LIGHTNING BOLT ── */
  .lightning-container {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 4;
    pointer-events: none;
    overflow: hidden;
  }

  .lightning-bolt {
    position: absolute;
    opacity: 0;
    animation: bolt-flash 0.3s ease-out forwards;
  }

  @keyframes bolt-flash {
    0% { opacity: 1; filter: brightness(2); }
    30% { opacity: 0.8; }
    50% { opacity: 1; filter: brightness(1.5); }
    100% { opacity: 0; filter: brightness(1); }
  }

  /* ── SLIDES ── */
  .slide {
    position: absolute;
    top: 0; left: 0; right: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem 1rem;
    z-index: 10;
    opacity: 0;
    transition: opacity 0.6s ease;
    pointer-events: none;
  }

  .slide.active { opacity: 1; pointer-events: auto; }

  /* ── TITLE SLIDE ── */
  .title-main {
    font-family: 'Metal Mania', cursive;
    font-size: 6rem;
    color: #aa44ff;
    text-shadow:
      0 0 20px rgba(150, 50, 255, 0.8),
      0 0 40px rgba(150, 50, 255, 0.4),
      0 0 80px rgba(100, 0, 255, 0.3),
      3px 3px 0 #000;
    letter-spacing: 0.1em;
    animation: title-surge 2.5s ease-in-out infinite alternate;
    position: relative;
  }

  @keyframes title-surge {
    0% { text-shadow: 0 0 20px rgba(150, 50, 255, 0.8), 0 0 40px rgba(150, 50, 255, 0.4), 3px 3px 0 #000; color: #aa44ff; }
    50% { text-shadow: 0 0 30px rgba(0, 180, 255, 1), 0 0 60px rgba(0, 180, 255, 0.6), 0 0 100px rgba(0, 150, 255, 0.3), 3px 3px 0 #000; color: #00ccff; }
    100% { text-shadow: 0 0 25px rgba(150, 50, 255, 0.9), 0 0 50px rgba(150, 50, 255, 0.5), 3px 3px 0 #000; color: #bb66ff; }
  }

  .title-sub {
    font-family: 'Oswald', sans-serif;
    font-size: 2rem;
    color: #99a;
    text-transform: uppercase;
    letter-spacing: 0.6em;
    margin-top: 1rem;
  }

  .title-heat {
    font-family: 'Metal Mania', cursive;
    font-size: 3rem;
    color: #00aaff;
    text-shadow: 0 0 15px rgba(0, 150, 255, 0.5);
    margin-top: 2rem;
  }

  /* ── GLITCH TEXT ── */
  .glitch {
    position: relative;
    display: inline-block;
  }

  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    overflow: hidden;
  }

  .glitch::before {
    color: #ff0066;
    z-index: -1;
    animation: glitch-top 3s infinite linear alternate-reverse;
  }

  .glitch::after {
    color: #00ccff;
    z-index: -2;
    animation: glitch-bottom 2s infinite linear alternate-reverse;
  }

  @keyframes glitch-top {
    0% { clip-path: inset(0 0 85% 0); transform: translateX(0); }
    10% { clip-path: inset(15% 0 65% 0); transform: translateX(-3px); }
    20% { clip-path: inset(50% 0 20% 0); transform: translateX(3px); }
    30% { clip-path: inset(10% 0 70% 0); transform: translateX(-2px); }
    40% { clip-path: inset(60% 0 10% 0); transform: translateX(2px); }
    50% { clip-path: inset(30% 0 40% 0); transform: translateX(0); }
    60% { clip-path: inset(70% 0 5% 0); transform: translateX(-3px); }
    70% { clip-path: inset(5% 0 80% 0); transform: translateX(3px); }
    80% { clip-path: inset(40% 0 30% 0); transform: translateX(-1px); }
    90% { clip-path: inset(80% 0 0% 0); transform: translateX(2px); }
    100% { clip-path: inset(0 0 90% 0); transform: translateX(0); }
  }

  @keyframes glitch-bottom {
    0% { clip-path: inset(80% 0 0 0); transform: translateX(0); }
    10% { clip-path: inset(60% 0 10% 0); transform: translateX(2px); }
    20% { clip-path: inset(20% 0 50% 0); transform: translateX(-2px); }
    30% { clip-path: inset(70% 0 5% 0); transform: translateX(3px); }
    40% { clip-path: inset(10% 0 60% 0); transform: translateX(-3px); }
    50% { clip-path: inset(45% 0 25% 0); transform: translateX(0); }
    60% { clip-path: inset(5% 0 75% 0); transform: translateX(2px); }
    70% { clip-path: inset(55% 0 15% 0); transform: translateX(-2px); }
    80% { clip-path: inset(25% 0 45% 0); transform: translateX(1px); }
    90% { clip-path: inset(75% 0 0% 0); transform: translateX(-1px); }
    100% { clip-path: inset(85% 0 0 0); transform: translateX(0); }
  }

  /* ── DRAMATIC HEADLINE ── */
  .dramatic-headline {
    font-family: 'Metal Mania', cursive;
    font-size: 4.5rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 0.3rem;
    line-height: 1.1;
  }

  .dramatic-sub {
    font-family: 'Oswald', sans-serif;
    font-size: 1.3rem;
    color: #99a;
    text-transform: uppercase;
    letter-spacing: 0.4em;
    margin-bottom: 2rem;
  }

  /* ── RESULT CARD ── */
  .result-card {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 90vw;
    overflow-wrap: break-word;
    word-break: break-word;
  }

  /* ── DIVIDER ── */
  .electric-divider {
    width: 200px;
    height: 2px;
    background: linear-gradient(90deg, transparent, #7744ff, #00ccff, #7744ff, transparent);
    margin: 1rem 0;
    position: relative;
    box-shadow: 0 0 8px rgba(0, 180, 255, 0.4);
  }

  .electric-divider::after {
    content: '\26A1';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.2rem;
    color: #00ccff;
    text-shadow: 0 0 10px rgba(0, 200, 255, 0.8);
  }

  /* ── BAND & SONG ── */
  .band-name {
    font-family: 'Metal Mania', cursive;
    font-size: 3.5rem;
    color: #00ccff;
    text-shadow: 0 0 20px rgba(0, 180, 255, 0.6), 2px 2px 0 #000;
    margin-bottom: 0.3rem;
    line-height: 1.15;
  }

  .song-name {
    font-family: 'Oswald', sans-serif;
    font-size: 1.6rem;
    color: #bbc;
    font-style: italic;
    margin-bottom: 0.8rem;
  }

  /* ── VOLTAGE/POINTS DISPLAY ── */
  .voltage-display {
    font-family: 'Metal Mania', cursive;
    font-size: 5.5rem;
    color: #aa44ff;
    text-shadow:
      0 0 20px rgba(150, 50, 255, 0.6),
      0 0 40px rgba(150, 50, 255, 0.3);
    line-height: 1;
    letter-spacing: 0.05em;
  }

  .voltage-label {
    font-size: 0.9rem;
    color: #899;
    text-transform: uppercase;
    letter-spacing: 0.4em;
    margin-bottom: 1rem;
  }

  /* ── DESTINATION BADGES ── */
  .destination {
    margin-top: 1rem;
    padding: 0.5rem 2rem;
    font-family: 'Oswald', sans-serif;
    font-size: 1.2rem;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    border: 2px solid;
    display: inline-block;
    position: relative;
    opacity: 0;
    transform: scale(0);
    pointer-events: none;
  }

  .destination.revealed { pointer-events: auto; }

  .dest-eliminated {
    color: #445;
    border-color: #223;
    background: rgba(30, 30, 50, 0.4);
  }

  .dest-eliminated.revealed {
    animation: reveal-eliminated 0.5s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
  }

  @keyframes reveal-eliminated {
    0% { opacity: 0; transform: translateY(-40px) scaleX(1.8) scaleY(0.2); }
    40% { opacity: 1; transform: translateY(4px) scaleX(0.95) scaleY(1.05); }
    60% { transform: translateY(-2px) scaleX(1.02) scaleY(0.98); }
    100% { opacity: 0.8; transform: translateY(0) scale(1); }
  }

  .dest-secondchance {
    color: #ff7700;
    border-color: #ff7700;
    background: rgba(255, 100, 0, 0.08);
  }

  .dest-secondchance.revealed {
    animation: reveal-secondchance 0.8s ease-out forwards;
  }

  @keyframes reveal-secondchance {
    0% { opacity: 0; transform: scale(0.3) rotate(-5deg); box-shadow: none; }
    20% { opacity: 1; transform: scale(1.15) rotate(2deg); box-shadow: 0 0 40px rgba(255, 100, 0, 0.5); }
    35% { opacity: 0.4; transform: scale(1.05) rotate(-1deg); }
    50% { opacity: 1; transform: scale(0.97) rotate(0.5deg); box-shadow: 0 0 30px rgba(255, 100, 0, 0.4); }
    65% { opacity: 0.6; }
    80% { opacity: 1; transform: scale(1.02) rotate(0deg); }
    100% { opacity: 1; transform: scale(1); box-shadow: 0 0 20px rgba(255, 100, 0, 0.15); }
  }

  .dest-final {
    color: #00ffcc;
    border-color: #00ffcc;
    background: rgba(0, 255, 200, 0.08);
  }

  .dest-final.revealed {
    animation: reveal-final 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .dest-final.revealed.pulse-after {
    animation: final-pulse 1.5s ease-in-out infinite alternate;
    opacity: 1;
    transform: scale(1);
  }

  @keyframes reveal-final {
    0% { opacity: 0; transform: scale(0); box-shadow: 0 0 0 0 rgba(0, 255, 200, 0); border-color: transparent; }
    15% { opacity: 1; transform: scale(1.6); box-shadow: 0 0 80px 20px rgba(0, 255, 200, 0.6), 0 0 120px 40px rgba(0, 255, 200, 0.2); }
    30% { transform: scale(0.9); box-shadow: 0 0 40px 10px rgba(0, 255, 200, 0.4); }
    45% { transform: scale(1.1); }
    60% { transform: scale(0.97); }
    80% { border-color: #00ffcc; }
    100% { opacity: 1; transform: scale(1); box-shadow: 0 0 30px rgba(0, 255, 200, 0.2); border-color: #00ffcc; }
  }

  @keyframes final-pulse {
    from { box-shadow: 0 0 20px rgba(0, 255, 200, 0.15); }
    to { box-shadow: 0 0 50px rgba(0, 255, 200, 0.4), 0 0 80px rgba(0, 255, 200, 0.15); }
  }

  /* Winner destination override */
  .winner .dest-final.revealed {
    animation: reveal-winner-dest 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .winner .dest-final.revealed.pulse-after {
    animation: winner-badge 1.5s ease-in-out infinite alternate;
    opacity: 1;
    transform: scale(1);
  }

  @keyframes reveal-winner-dest {
    0% { opacity: 0; transform: scale(0) rotate(-10deg); box-shadow: none; border-color: transparent; color: #fff; }
    10% { opacity: 1; transform: scale(2) rotate(3deg); box-shadow: 0 0 100px 30px rgba(255, 220, 0, 0.8), 0 0 200px 60px rgba(255, 220, 0, 0.3); color: #fff; }
    20% { transform: scale(0.8) rotate(-2deg); box-shadow: 0 0 60px 15px rgba(255, 220, 0, 0.5); }
    35% { opacity: 0.5; transform: scale(1.2) rotate(1deg); }
    40% { opacity: 1; }
    50% { transform: scale(0.95) rotate(0deg); }
    65% { transform: scale(1.05); }
    80% { border-color: #ffdd00; color: #ffdd00; }
    100% { opacity: 1; transform: scale(1); box-shadow: 0 0 30px rgba(255, 220, 0, 0.3); border-color: #ffdd00; color: #ffdd00; }
  }

  /* ── COMMENTARY ── */
  .commentary {
    margin-top: 1.2rem;
    font-size: 1rem;
    color: #aab;
    font-style: italic;
    max-width: 550px;
    line-height: 1.6;
  }

  /* ── VOTER INFO ── */
  .voter-info {
    margin-top: 1.2rem;
    display: flex;
    gap: 3rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .voter-group { text-align: center; }

  .voter-label {
    font-size: 0.8rem;
    color: #899;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    margin-bottom: 0.3rem;
  }

  .voter-names { font-size: 1.1rem; color: #ccd; }
  .voter-names.champion { color: #aa44ff; text-shadow: 0 0 8px rgba(150, 50, 255, 0.4); }
  .voter-names.hater { color: #ff3366; }

  /* ── TIEBREAKER ── */
  .tiebreaker-headline {
    font-family: 'Metal Mania', cursive;
    font-size: 4rem;
    color: #ff3366;
    text-shadow: 0 0 20px rgba(255, 50, 100, 0.5), 2px 2px 0 #000;
    margin-bottom: 1rem;
  }

  .tiebreaker-detail {
    font-size: 1.3rem;
    color: #bbc;
    max-width: 600px;
    line-height: 1.8;
    text-align: center;
  }

  .tiebreaker-vs {
    display: flex;
    gap: 2rem;
    margin: 2rem 0;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  .tiebreaker-contestant {
    text-align: center;
    padding: 1.5rem 2rem;
    border: 1px solid #334;
    background: rgba(20, 20, 40, 0.6);
    min-width: 200px;
  }

  .tiebreaker-contestant .tb-band {
    font-family: 'Metal Mania', cursive;
    font-size: 1.8rem;
    color: #00ccff;
    text-shadow: 0 0 10px rgba(0, 180, 255, 0.4);
  }

  .tiebreaker-contestant .tb-song {
    font-size: 1rem;
    color: #99a;
    font-style: italic;
    margin-top: 0.3rem;
  }

  .vs-text {
    font-family: 'Metal Mania', cursive;
    font-size: 3rem;
    color: #ff3366;
    text-shadow: 0 0 15px rgba(255, 50, 100, 0.5);
  }

  /* ── WINNER OVERRIDES ── */
  .winner .dramatic-headline {
    font-size: 5.5rem;
    color: #ffdd00;
    text-shadow:
      0 0 30px rgba(255, 220, 0, 0.8),
      0 0 60px rgba(255, 220, 0, 0.4),
      0 0 120px rgba(255, 180, 0, 0.2),
      3px 3px 0 #000;
    animation: winner-surge 1.5s ease-in-out infinite alternate;
  }

  @keyframes winner-surge {
    from { text-shadow: 0 0 30px rgba(255, 220, 0, 0.8), 0 0 60px rgba(255, 220, 0, 0.4), 3px 3px 0 #000; }
    to { text-shadow: 0 0 50px rgba(255, 220, 0, 1), 0 0 100px rgba(255, 220, 0, 0.6), 0 0 150px rgba(255, 180, 0, 0.3), 3px 3px 0 #000; }
  }

  .winner .band-name {
    font-size: 4.5rem;
    color: #ffdd00;
    text-shadow: 0 0 30px rgba(255, 220, 0, 0.8), 0 0 60px rgba(255, 220, 0, 0.4), 3px 3px 0 #000;
  }

  .winner .voltage-display {
    font-size: 7rem;
    color: #ffdd00;
    text-shadow:
      0 0 30px rgba(255, 220, 0, 0.8),
      0 0 60px rgba(255, 220, 0, 0.4),
      0 0 100px rgba(255, 180, 0, 0.2);
  }

  .winner .electric-divider {
    width: 300px;
    background: linear-gradient(90deg, transparent, #ffdd00, #fff, #ffdd00, transparent);
    box-shadow: 0 0 15px rgba(255, 220, 0, 0.5);
  }

  .winner .electric-divider::after {
    color: #ffdd00;
    text-shadow: 0 0 15px rgba(255, 220, 0, 0.8);
  }

  .winner .dest-final {
    background: rgba(255, 220, 0, 0.1);
  }

  @keyframes winner-badge {
    from { box-shadow: 0 0 20px rgba(255, 220, 0, 0.2); }
    to { box-shadow: 0 0 60px rgba(255, 220, 0, 0.5), 0 0 100px rgba(255, 220, 0, 0.2); }
  }

  .winner .voter-names.champion { color: #ffdd00; text-shadow: 0 0 10px rgba(255, 220, 0, 0.5); }

  /* ── ENTRY ANIMATIONS ── */
  .anim-fade { animation: entry-fade 0.8s ease-out forwards; }
  .anim-slide { animation: entry-slide 0.7s cubic-bezier(0.22, 0.61, 0.36, 1) forwards; }
  .anim-crash { animation: entry-crash 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) forwards; }
  .anim-shatter { animation: entry-shatter 0.5s cubic-bezier(0.22, 0.61, 0.36, 1) forwards; }
  .anim-nuclear { animation: entry-nuclear 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

  @keyframes entry-fade {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes entry-slide {
    from { opacity: 0; transform: translateX(-60px) skewX(-2deg); }
    50% { opacity: 1; transform: translateX(10px) skewX(0.5deg); }
    to { opacity: 1; transform: translateX(0) skewX(0); }
  }

  @keyframes entry-crash {
    0% { opacity: 0; transform: translateY(-80px) scale(1.3); }
    50% { opacity: 1; transform: translateY(10px) scale(0.98); }
    70% { transform: translateY(-5px) scale(1.01); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
  }

  @keyframes entry-shatter {
    0% { opacity: 0; transform: scale(2.5) rotate(-3deg); filter: blur(10px) brightness(3); }
    40% { opacity: 1; transform: scale(0.95) rotate(1deg); filter: blur(0) brightness(1.2); }
    60% { transform: scale(1.02) rotate(-0.5deg); filter: brightness(1); }
    100% { opacity: 1; transform: scale(1) rotate(0); filter: brightness(1); }
  }

  @keyframes entry-nuclear {
    0% { opacity: 0; transform: scale(0.3); filter: brightness(5) blur(20px); }
    30% { opacity: 1; transform: scale(1.15); filter: brightness(2) blur(5px); }
    50% { transform: scale(0.97); filter: brightness(1.3) blur(0); }
    70% { transform: scale(1.03); filter: brightness(1.1); }
    100% { opacity: 1; transform: scale(1); filter: brightness(1); }
  }

  /* ── SCREEN SHAKE ── */
  @keyframes shake-1 { 0%,100%{transform:translate(0)} 25%{transform:translate(-2px,1px)} 50%{transform:translate(2px,-1px)} 75%{transform:translate(-1px,2px)} }
  @keyframes shake-2 { 0%,100%{transform:translate(0)} 20%{transform:translate(-4px,2px)} 40%{transform:translate(3px,-3px)} 60%{transform:translate(-3px,3px)} 80%{transform:translate(4px,-2px)} }
  @keyframes shake-3 { 0%,100%{transform:translate(0)} 15%{transform:translate(-8px,4px)} 30%{transform:translate(6px,-6px)} 45%{transform:translate(-6px,5px)} 60%{transform:translate(8px,-4px)} 75%{transform:translate(-4px,6px)} 90%{transform:translate(5px,-3px)} }
  @keyframes shake-4 { 0%,100%{transform:translate(0)} 10%{transform:translate(-14px,8px)} 20%{transform:translate(12px,-10px)} 30%{transform:translate(-10px,12px)} 40%{transform:translate(14px,-8px)} 50%{transform:translate(-8px,14px)} 60%{transform:translate(10px,-12px)} 70%{transform:translate(-12px,10px)} 80%{transform:translate(8px,-6px)} 90%{transform:translate(-6px,4px)} }

  /* ── FLASH OVERLAY ── */
  .flash-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 200;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s;
  }

  .flash-overlay.flash {
    opacity: 1;
    transition: opacity 0s;
  }

  /* ── PROGRESS BAR ── */
  .progress-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    height: 3px;
    background: linear-gradient(90deg, #7744ff, #00ccff);
    z-index: 100;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px rgba(0, 180, 255, 0.5);
  }

  /* ── SUMMARY TABLE ── */
  .summary-table {
    border-collapse: collapse;
    font-family: 'Oswald', sans-serif;
    font-size: 1.1rem;
  }

  .summary-table th {
    color: #7744ff;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: 0.6rem 1.2rem;
    border-bottom: 2px solid #223;
    font-weight: 700;
  }

  .summary-table td {
    padding: 0.5rem 1.2rem;
    border-bottom: 1px solid #111;
    text-align: center;
  }

  .summary-table td:nth-child(2) { text-align: left; }
  .summary-table tr.final-row td { color: #00ffcc; }
  .summary-table tr.sc-row td { color: #ff7700; }
  .summary-table tr.elim-row td { color: #445; }

  .summary-heading {
    font-family: 'Metal Mania', cursive;
    font-size: 3rem;
    color: #7744ff;
    text-shadow: 0 0 15px rgba(100, 50, 255, 0.4);
    margin-bottom: 2rem;
  }

  /* ── AMBIENT LIGHTNING (background flicker) ── */
  .ambient-flash {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 1;
    pointer-events: none;
    opacity: 0;
  }

  /* ── RESPONSIVE ── */
  @media (max-width: 600px) {
    .title-main { font-size: 3.5rem; }
    .title-sub { font-size: 1.1rem; letter-spacing: 0.3em; }
    .title-heat { font-size: 1.8rem; }
    .dramatic-headline { font-size: 2.8rem; }
    .dramatic-sub { font-size: 1rem; }
    .band-name { font-size: 2.2rem; }
    .song-name { font-size: 1.2rem; }
    .voltage-display { font-size: 3.5rem; }
    .winner .dramatic-headline { font-size: 3.5rem; }
    .winner .band-name { font-size: 2.8rem; }
    .winner .voltage-display { font-size: 5rem; }
    .destination { font-size: 1rem; padding: 0.4rem 1.5rem; }
    .commentary { font-size: 0.85rem; max-width: 90vw; }
    .voter-info { gap: 1.5rem; }
    .tiebreaker-headline { font-size: 2.5rem; }
    .tiebreaker-detail { font-size: 1rem; }
    .tiebreaker-vs { gap: 1rem; }
    .tiebreaker-contestant { min-width: 140px; padding: 1rem; }
    .tiebreaker-contestant .tb-band { font-size: 1.3rem; }
    .vs-text { font-size: 2rem; }
    .summary-table { font-size: 0.85rem; }
    .summary-table th, .summary-table td { padding: 0.4rem 0.5rem; }
    .summary-heading { font-size: 2rem; }
    .electric-divider { width: 120px; }
  }
</style>
</head>
<body>

<div class="bg-void"></div>
<div class="fire-base"></div>
<div class="bg-grid"></div>
<div class="scanlines"></div>
<div class="flash-overlay" id="flash"></div>
<div class="lightning-container" id="lightning-container"></div>
<div class="progress-bar" id="progress"></div>

<!-- ═══════ Slide 0: Title ═══════ -->
<div class="slide active" id="slide-0">
  <div class="title-main glitch" data-text="MELLO 2026">MELLO 2026</div>
  <div class="title-sub">High Voltage</div>
  <div class="title-heat">Heat 2 Results</div>
</div>

<!-- ═══════ Slide 1: #8 — Majestica ═══════ -->
<div class="slide" id="slide-1" data-intensity="1">
  <div class="result-card">
    <div class="dramatic-headline" style="color:#445;">FIRST BLOOD</div>
    <div class="dramatic-sub">Eighth Place</div>
    <div class="band-name" style="color:#556;">Majestica</div>
    <div class="song-name">"No Pain, No Gain"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display" style="color:#556;">32</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-eliminated">Eliminated</div>
    <div class="commentary">The title promised gain. The jury delivered only pain. Three voters buried Majestica with 1-point stakes through the heart. Not a single champion emerged. Sometimes, the gain just isn't worth the pain.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champion (10p)</div>
        <div class="voter-names" style="color:#334;">None</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names hater">Ola, Fezz, Wickman</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 2: Tiebreaker announcement ═══════ -->
<div class="slide" id="slide-2" data-intensity="2">
  <div class="result-card">
    <div class="tiebreaker-headline glitch" data-text="DEADLOCK">DEADLOCK</div>
    <div class="tiebreaker-detail">
      Two songs are chained at <strong style="color:#aa44ff;">38 points</strong> each.
    </div>
    <div class="tiebreaker-vs">
      <div class="tiebreaker-contestant">
        <div class="tb-band">...and Oceans</div>
        <div class="tb-song">"Inertiae"</div>
      </div>
      <div class="vs-text">VS</div>
      <div class="tiebreaker-contestant">
        <div class="tb-band">Hvalross</div>
        <div class="tb-song">"The Burning Eye"</div>
      </div>
    </div>
    <div class="tiebreaker-detail">
      Both earned exactly one 10-point vote.<br>
      The chains are broken by 8-point votes...<br><br>
      <span style="color:#00ccff; font-size:1.5rem;">...and Oceans: 1 &times; 8p</span><br>
      <span style="color:#445; font-size:1.5rem;">Hvalross: 0 &times; 8p</span>
    </div>
  </div>
</div>

<!-- ═══════ Slide 3: #7 — Hvalross ═══════ -->
<div class="slide" id="slide-3" data-intensity="3">
  <div class="result-card">
    <div class="dramatic-headline" style="color:#556;">THE FLAME DIES</div>
    <div class="dramatic-sub">Seventh Place</div>
    <div class="band-name" style="color:#667;">Hvalross</div>
    <div class="song-name">"The Burning Eye"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display" style="color:#667;">38</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-eliminated">Eliminated</div>
    <div class="commentary">Tompa's blazing 10-point torch couldn't illuminate the darkness. The Burning Eye fizzled out, losing the tiebreaker to ...and Oceans. Zero haters, yet zero salvation. Being inoffensive isn't enough.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champion (10p)</div>
        <div class="voter-names champion">Tompa</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names" style="color:#334;">None</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 4: #6 — ...and Oceans ═══════ -->
<div class="slide" id="slide-4" data-intensity="4">
  <div class="result-card">
    <div class="dramatic-headline" style="color:#667;">DROWNED IN STATIC</div>
    <div class="dramatic-sub">Sixth Place</div>
    <div class="band-name" style="color:#778;">...and Oceans</div>
    <div class="song-name">"Inertiae"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display" style="color:#778;">38</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-eliminated">Eliminated</div>
    <div class="commentary">The most polarizing song in the heat. Ola's lone 10-point crusade couldn't offset FOUR voters slamming them with 1 point. Stockholmsjuryn, Tompa, Anders, and Fredda all reached for the bottom. Loved by one, despised by many.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champion (10p)</div>
        <div class="voter-names champion">Ola</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names hater">Stockholmsjuryn, Tompa, Anders, Fredda</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 5: #5 — Dynazty ═══════ -->
<div class="slide" id="slide-5" data-intensity="5">
  <div class="result-card">
    <div class="dramatic-headline" style="color:#889;">DEVILRY DENIED</div>
    <div class="dramatic-sub">Fifth Place</div>
    <div class="band-name" style="color:#99a;">Dynazty</div>
    <div class="song-name">"Devilry of Ecstazy"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display" style="color:#99a;">42</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-eliminated">Eliminated</div>
    <div class="commentary">Stockholmsjuryn's 10-point enchantment wasn't enough sorcery. Peppe's 1-point dagger cut deep. Just one point shy of Andra Chansen &mdash; the ecstasy turns to agony.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champion (10p)</div>
        <div class="voter-names champion">Stockholmsjuryn</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names hater">Peppe</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 6: #4 — Lord of the Lost ═══════ -->
<div class="slide" id="slide-6" data-intensity="6">
  <div class="result-card">
    <div class="dramatic-headline" style="color:#cc6600;">DIAMOND IN THE DARK</div>
    <div class="dramatic-sub">Fourth Place</div>
    <div class="band-name">Lord of the Lost</div>
    <div class="song-name">"I'm A Diamon"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display">43</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-secondchance">Andra Chansen</div>
    <div class="commentary">Two champions couldn't carry this diamond to the light. Anders and Fredda both crowned it with 10 points, but without broader support, the gem stays in the rough. The second chance awaits.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champions (10p)</div>
        <div class="voter-names champion">Anders, Fredda</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names" style="color:#334;">None</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 7: #3 — Atomik Train ═══════ -->
<div class="slide" id="slide-7" data-intensity="7">
  <div class="result-card">
    <div class="dramatic-headline" style="color:#ff7700;">MAXIMUM VELOCITY</div>
    <div class="dramatic-sub">Third Place</div>
    <div class="band-name">Atomik Train</div>
    <div class="song-name">"Supersonik Speedway"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display">44</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-secondchance">Andra Chansen</div>
    <div class="commentary">The great paradox: not a single champion, not a single hater. Nobody gave 10 points. Nobody gave 1 point. Pure consensus carried them to third place. The power of being nobody's enemy &mdash; and nobody's hero.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champion (10p)</div>
        <div class="voter-names" style="color:#334;">None</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names" style="color:#334;">None</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 8: #2 — Coroner ═══════ -->
<div class="slide" id="slide-8" data-intensity="8">
  <div class="result-card">
    <div class="dramatic-headline glitch" data-text="RESURRECTED" style="color:#00ffcc;">RESURRECTED</div>
    <div class="dramatic-sub">Second Place</div>
    <div class="band-name" style="color:#00ddbb;">Coroner</div>
    <div class="song-name">"Renewal"</div>
    <div class="electric-divider" style="background:linear-gradient(90deg,transparent,#00ffcc,#fff,#00ffcc,transparent); box-shadow:0 0 12px rgba(0,255,200,0.5);"></div>
    <div class="voltage-display" style="color:#00ffcc;">51</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-final">Direct to Final</div>
    <div class="commentary">Renewed and reborn. Peppe and Wickman both unleashed 10-point verdicts. Only Kalle dared resist with a solitary 1 point. 51 points punch their ticket straight to the Final. The renewal is complete.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champions (10p)</div>
        <div class="voter-names champion" style="color:#00ffcc; text-shadow:0 0 8px rgba(0,255,200,0.5);">Peppe, Wickman</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names hater">Kalle</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 9: #1 — Helloween ═══════ -->
<div class="slide" id="slide-9" data-intensity="9">
  <div class="result-card winner">
    <div class="dramatic-headline glitch" data-text="TOTAL DOMINATION">TOTAL DOMINATION</div>
    <div class="dramatic-sub" style="color:#aa8800; letter-spacing:0.6em;">Heat 2 Champion</div>
    <div class="band-name">Helloween</div>
    <div class="song-name">"A Lidl Is A Lidl Too Much"</div>
    <div class="electric-divider"></div>
    <div class="voltage-display">63</div>
    <div class="voltage-label">Total Points</div>
    <div class="destination dest-final">Heat 2 Winner &bull; Direct to Final</div>
    <div class="commentary">TOTAL. DOMINATION. 63 points &mdash; twelve clear of second place. Kalle and Fezz championed the cause, and not a single voter dared give them 1 point. When a little is too much, 63 points is just right. Helloween marches to the Final unchallenged.</div>
    <div class="voter-info">
      <div class="voter-group">
        <div class="voter-label">Champions (10p)</div>
        <div class="voter-names champion">Kalle, Fezz</div>
      </div>
      <div class="voter-group">
        <div class="voter-label">Bottom Voter (1p)</div>
        <div class="voter-names" style="color:#334;">None</div>
      </div>
    </div>
  </div>
</div>

<!-- ═══════ Slide 10: Summary ═══════ -->
<div class="slide" id="slide-10" data-intensity="5">
  <div class="result-card">
    <div class="summary-heading">Heat 2 &mdash; Final Standings</div>
    <table class="summary-table">
      <tr><th>#</th><th>Song</th><th>Pts</th><th>10p</th><th>Destination</th></tr>
      <tr class="final-row"><td>1</td><td>A Lidl Is A Lidl Too Much / Helloween</td><td>63</td><td>2</td><td>FINAL</td></tr>
      <tr class="final-row"><td>2</td><td>Renewal / Coroner</td><td>51</td><td>2</td><td>FINAL</td></tr>
      <tr class="sc-row"><td>3</td><td>Supersonik Speedway / Atomik Train</td><td>44</td><td>0</td><td>ANDRA CHANSEN</td></tr>
      <tr class="sc-row"><td>4</td><td>I'm A Diamon / Lord of the Lost</td><td>43</td><td>2</td><td>ANDRA CHANSEN</td></tr>
      <tr class="elim-row"><td>5</td><td>Devilry of Ecstazy / Dynazty</td><td>42</td><td>1</td><td>Eliminated</td></tr>
      <tr class="elim-row"><td>6</td><td>Inertiae / ...and Oceans</td><td>38</td><td>1</td><td>Eliminated</td></tr>
      <tr class="elim-row"><td>7</td><td>The Burning Eye / Hvalross</td><td>38</td><td>1</td><td>Eliminated</td></tr>
      <tr class="elim-row"><td>8</td><td>No Pain, No Gain / Majestica</td><td>32</td><td>0</td><td>Eliminated</td></tr>
    </table>
    <div class="commentary" style="margin-top:1.5rem;">
      Helloween crushed it with 63 points &mdash; the highest score in Mello 2026 so far.
      Atomik Train proves you don't need a single 10-point champion to reach Andra Chansen.
      ...and Oceans earned the dubious honor of most 1-point votes in a single heat with four haters.
    </div>
  </div>
</div>

<script>
  // ── FLAME PARTICLES ──
  function createFlames() {
    for (let i = 0; i < 40; i++) {
      const flame = document.createElement('div');
      flame.className = 'flame';
      flame.style.left = Math.random() * 100 + '%';
      flame.style.animationDuration = (2.5 + Math.random() * 3.5) + 's';
      flame.style.animationDelay = Math.random() * 6 + 's';
      const width = 4 + Math.random() * 8;
      const height = 15 + Math.random() * 30;
      flame.style.width = width + 'px';
      flame.style.height = height + 'px';

      // Mix of purple, blue, and magenta flames
      const colors = [
        'rgba(140, 40, 255, 0.7)',
        'rgba(80, 0, 220, 0.65)',
        'rgba(180, 60, 255, 0.6)',
        'rgba(100, 80, 255, 0.7)',
        'rgba(200, 100, 255, 0.5)',
        'rgba(60, 20, 180, 0.7)',
      ];
      const color = colors[Math.floor(Math.random() * colors.length)];
      flame.style.background = `radial-gradient(ellipse at 50% 80%, ${color}, transparent 70%)`;
      flame.style.boxShadow = `0 0 ${6 + Math.random() * 8}px ${color}`;
      document.body.appendChild(flame);
    }
  }
  createFlames();

  // ── ELECTRIC SPARK PARTICLES ──
  function createSparks() {
    for (let i = 0; i < 25; i++) {
      const spark = document.createElement('div');
      spark.className = 'spark';
      const startX = Math.random() * 100;
      const startY = Math.random() * 100;
      const dx = (Math.random() - 0.5) * 400;
      const dy = (Math.random() - 0.5) * 400;
      spark.style.left = startX + '%';
      spark.style.top = startY + '%';
      spark.style.setProperty('--dx', dx);
      spark.style.setProperty('--dy', dy);
      spark.style.animationDuration = (3 + Math.random() * 5) + 's';
      spark.style.animationDelay = Math.random() * 10 + 's';
      const size = (1 + Math.random() * 2) + 'px';
      spark.style.width = size;
      spark.style.height = size;
      // Vary colors between blue and purple
      const hue = 200 + Math.random() * 80; // 200-280 range
      spark.style.background = `hsl(${hue}, 100%, 70%)`;
      spark.style.boxShadow = `0 0 6px 2px hsla(${hue}, 100%, 60%, 0.6)`;
      document.body.appendChild(spark);
    }
  }
  createSparks();

  // ── LIGHTNING BOLT GENERATOR ──
  function createLightningBolt(container) {
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('width', '100%');
    svg.setAttribute('height', '100%');
    svg.style.position = 'absolute';
    svg.style.top = '0';
    svg.style.left = '0';

    const startX = Math.random() * window.innerWidth;
    const startY = 0;
    const endY = window.innerHeight;
    const segments = 12 + Math.floor(Math.random() * 8);
    const segHeight = endY / segments;

    let points = `${startX},${startY}`;
    let x = startX;
    for (let i = 1; i <= segments; i++) {
      x += (Math.random() - 0.5) * 120;
      const y = segHeight * i;
      points += ` ${x},${y}`;
    }

    // Main bolt
    const bolt = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');
    bolt.setAttribute('points', points);
    bolt.setAttribute('fill', 'none');
    bolt.setAttribute('stroke', 'rgba(180, 160, 255, 0.9)');
    bolt.setAttribute('stroke-width', '2');
    bolt.setAttribute('filter', 'url(#glow)');

    // Glow filter
    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
    const filter = document.createElementNS('http://www.w3.org/2000/svg', 'filter');
    filter.setAttribute('id', 'glow');
    const blur = document.createElementNS('http://www.w3.org/2000/svg', 'feGaussianBlur');
    blur.setAttribute('stdDeviation', '4');
    blur.setAttribute('result', 'blur');
    const merge = document.createElementNS('http://www.w3.org/2000/svg', 'feMerge');
    const m1 = document.createElementNS('http://www.w3.org/2000/svg', 'feMergeNode');
    m1.setAttribute('in', 'blur');
    const m2 = document.createElementNS('http://www.w3.org/2000/svg', 'feMergeNode');
    m2.setAttribute('in', 'SourceGraphic');
    merge.appendChild(m1);
    merge.appendChild(m2);
    filter.appendChild(blur);
    filter.appendChild(merge);
    defs.appendChild(filter);
    svg.appendChild(defs);

    // Bright core
    const core = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');
    core.setAttribute('points', points);
    core.setAttribute('fill', 'none');
    core.setAttribute('stroke', 'rgba(220, 210, 255, 1)');
    core.setAttribute('stroke-width', '1');

    svg.appendChild(bolt);
    svg.appendChild(core);

    const wrapper = document.createElement('div');
    wrapper.className = 'lightning-bolt';
    wrapper.appendChild(svg);
    container.appendChild(wrapper);

    setTimeout(() => wrapper.remove(), 400);
  }

  function spawnLightning(count) {
    const container = document.getElementById('lightning-container');
    for (let i = 0; i < count; i++) {
      setTimeout(() => createLightningBolt(container), i * 80);
    }
  }

  // ── SCREEN SHAKE ──
  function screenShake(intensity) {
    const level = Math.min(Math.ceil(intensity / 2.5), 4);
    document.body.style.animation = `shake-${level} ${0.3 + intensity * 0.08}s ease-out`;
    setTimeout(() => { document.body.style.animation = ''; }, 300 + intensity * 80);
  }

  // ── FLASH ──
  function flashScreen(intensity) {
    const el = document.getElementById('flash');
    const brightness = Math.min(0.15 + intensity * 0.06, 0.8);
    // Color shifts from blue to purple to white with intensity
    const r = Math.min(50 + intensity * 25, 255);
    const g = Math.min(30 + intensity * 20, 255);
    const b = Math.min(180 + intensity * 10, 255);
    el.style.background = `rgba(${r}, ${g}, ${b}, ${brightness})`;
    el.classList.add('flash');
    setTimeout(() => el.classList.remove('flash'), 120 + intensity * 20);
  }

  // ── AMBIENT BACKGROUND LIGHTNING ──
  let ambientInterval = null;
  function startAmbientLightning() {
    const container = document.getElementById('lightning-container');
    ambientInterval = setInterval(() => {
      if (Math.random() < 0.3) {
        createLightningBolt(container);
      }
    }, 3000);
  }
  startAmbientLightning();

  // ── SLIDE NAVIGATION ──
  let currentSlide = 0;
  const totalSlides = 11;

  function getEntryAnimation(intensity) {
    if (intensity <= 2) return 'anim-fade';
    if (intensity <= 4) return 'anim-slide';
    if (intensity <= 6) return 'anim-crash';
    if (intensity <= 8) return 'anim-shatter';
    return 'anim-nuclear';
  }

  function nextSlide() {
    if (currentSlide >= totalSlides - 1) return;

    const current = document.getElementById('slide-' + currentSlide);
    current.classList.remove('active');

    // Remove old animation classes from current card
    const oldCard = current.querySelector('.result-card');
    if (oldCard) {
      oldCard.classList.remove('anim-fade', 'anim-slide', 'anim-crash', 'anim-shatter', 'anim-nuclear');
    }

    currentSlide++;
    const next = document.getElementById('slide-' + currentSlide);
    const intensity = parseInt(next.dataset.intensity) || 1;

    // Apply progressive effects
    flashScreen(intensity);

    if (intensity >= 3) {
      screenShake(intensity);
    }

    if (intensity >= 4) {
      spawnLightning(Math.floor(intensity * 0.8));
    }

    // Winner gets extra sustained lightning
    if (intensity >= 9) {
      setTimeout(() => spawnLightning(5), 300);
      setTimeout(() => spawnLightning(3), 600);
      setTimeout(() => spawnLightning(2), 900);
    }

    // Apply entry animation to card
    const card = next.querySelector('.result-card');
    if (card) {
      const animClass = getEntryAnimation(intensity);
      card.classList.remove('anim-fade', 'anim-slide', 'anim-crash', 'anim-shatter', 'anim-nuclear');
      card.style.animation = 'none';
      card.offsetHeight; // trigger reflow
      card.style.animation = '';
      card.classList.add(animClass);
    }

    setTimeout(() => {
      next.classList.add('active');
      updateProgress();

      // Delayed destination badge reveal
      const dest = next.querySelector('.destination');
      if (dest) {
        dest.classList.remove('revealed', 'pulse-after');
        dest.style.opacity = '0';
        dest.style.transform = 'scale(0)';

        const delay = dest.classList.contains('dest-final') ? 1800
                    : dest.classList.contains('dest-secondchance') ? 1500
                    : 1200;

        setTimeout(() => {
          dest.style.opacity = '';
          dest.style.transform = '';
          dest.classList.add('revealed');

          // Flash + lightning for Final reveals
          if (dest.classList.contains('dest-final')) {
            flashScreen(7);
            spawnLightning(3);
            if (next.querySelector('.winner')) {
              setTimeout(() => { flashScreen(9); spawnLightning(4); }, 150);
            }
          }

          // After reveal animation ends, switch to sustained pulse
          if (dest.classList.contains('dest-final')) {
            setTimeout(() => dest.classList.add('pulse-after'), 1200);
          }
        }, delay);
      }
    }, 80);
  }

  function prevSlide() {
    if (currentSlide <= 0) return;
    const current = document.getElementById('slide-' + currentSlide);
    current.classList.remove('active');
    // Reset destination on the slide we're leaving
    const dest = current.querySelector('.destination');
    if (dest) dest.classList.remove('revealed', 'pulse-after');
    currentSlide--;
    const prev = document.getElementById('slide-' + currentSlide);
    prev.classList.add('active');
    updateProgress();
  }

  function updateProgress() {
    const pct = (currentSlide / (totalSlides - 1)) * 100;
    document.getElementById('progress').style.width = pct + '%';
  }

  document.addEventListener('click', nextSlide);
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp' || e.key === 'Backspace') {
      e.preventDefault();
      prevSlide();
    } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ' || e.key === 'Enter') {
      e.preventDefault();
      nextSlide();
    }
  });

  updateProgress();
</script>

</body>
</html>
